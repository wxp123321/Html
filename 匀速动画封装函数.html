<!DOCTYPE html>
<html>
  <head>
    <title>匀速动画封装函数.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
	<style type="text/css">
		#box 
		{
            position: absolute;
            width: 100px;
            height: 100px;
            background-color: pink;
        }
      
	</style>
	<script type="text/javascript">
		window.onload = function()
		{
			var box = document.getElementById("box");
			var btn200 = document.getElementById("btn200");
			var btn400 = document.getElementById("btn400");
			btn200.onclick = function()
			{
				animate(box,200);
			}
			btn400.onclick = function()
			{
				animate(box,400);
			}
			function animate(obj,target)
			{
				clearInterval(obj.timer);
				var speed = obj.offsetLeft < target ? 5 : -5;
				obj.timer = setInterval(function(){
					var result = target - obj.offsetLeft;   //获得差值
					obj.style.left = obj.offsetLeft + speed + "px";
					if(Math.abs(result) <= 5)
					{
						clearInterval(obj.timer);
						obj.style.left = target + "px";
					}
				},30);
			}
		}
	</script>
  </head>
  
  <body>
    <button id="btn200">200</button>
	<button id="btn400">400</button>
	<div id="box"></div>
  </body>
</html>
