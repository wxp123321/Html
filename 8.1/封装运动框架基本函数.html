<!DOCTYPE html>
<html>
  <head>
    <title>封装运动框架基本函数.html</title>
	
    <meta http-equiv="keywords" content="keyword1,keyword2,keyword3">
    <meta http-equiv="description" content="this is my page">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    
    <!--<link rel="stylesheet" type="text/css" href="./styles.css">-->
	<style>
		div
		{
			width: 100px;
            height: 100px;
            background-color: pink;
            position: absolute;
            left: 0;
            top: 50px;
		}
	</style>
	<script type="text/javascript">
		window.onload = function()
		{
			var btn200 = document.getElementById("btn200");
			var btn400 = document.getElementById("btn400");
			var box = document.getElementById("box");
			btn200.onclick = function()
			{
				animate(box,"left",500);
			}
			btn400.onclick = function()
			{
				animate(box,"top",400);
			}
			//封装单个属性的运动框架
			function animate(obj,attr,target)
			{
				clearInterval(obj.timer);
				obj.timer = setInterval(function(){
					var current = parseInt(getStyle(obj,attr));
					var step = (target - current) / 10;
					step = step > 0 ? Math.ceil(step) : Math.floor(step);
					obj.style[attr] = current + step + "px";
					if(current == target)
					{
						clearInterval(obj.timer);
					}
				},30)
			}
			function getStyle(obj,attr)
			{
			if(obj.currentStyle)   //ie浏览器
			{
				return obj.currentStyle[attr];
			}
			else   //w3c浏览器
			{ 
				return window.getComputedStyle(obj,null)[attr];
			}
}
		}
	</script>
  </head>
  
  <body>
    <button id="btn200">200</button>
	<button id="btn400">400</button>
	<div id="box"></div>
  </body>
</html>
